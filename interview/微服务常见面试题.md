@[TOC](微服务常见面试题)

### 为什么要选择微服务架构？

1.微服务可以轻松适应其他框架或技术。

2.单个进程的失败不会影响整个系统。

3.为大企业和小型团队提供支持。

4.可以在相对较短的时间内独立部署。

### 什么是耦合和凝聚力？

组件之间依赖关系强度的度量被认为是耦合。一个好的设计总是被认为具有高内聚力和低耦合性。

面试官经常会问起凝聚力。它也是另一个测量单位。更像是一个模块内部的元素保持结合的程度。

必须记住，设计微服务的一个重要关键是低耦合和高内聚的组合。当低耦合时，服务对其他服务的依赖很少。
这样可以保持服务的完整性。在高内聚性中，将所有相关逻辑保存在服务中成为可能。
否则，服务将尝试彼此通信，从而影响整体性能。

### 什么是Oauth？

开放授权协议，这允许通过在HTTP服务上启用客户端应用程序（例如第三方提供商Facebook，GitHub等）来访问资源所有者的资源。
因此，您可以在不使用其凭据的情况下与另一个站点共享存储在一个站点上的资源。

OAuth允许像Facebook这样的第三方使用最终用户的帐户信息，同时保证其安全（不使用或暴露用户的密码）。
它更像是代表用户的中介，同时为服务器提供访问所需信息的令牌。


### 微服务设计的基础是什么？

这可能是最常见的微服务面试问题之一。在回答这个问题时，你需要记住以下内容：

定义范围。

结合低耦合和高内聚。

创建一个有唯一标识的服务，唯一标识将充当识别源，非常像数据库表中的唯一键。

创建正确的API并在集成过程中特别注意。

限制对数据的访问并将其限制到所需级别。

在请求和响应之间保持顺畅的流程。

自动化大多数流程，以减少时间复杂性。

将表的数量保持在最低水平，以减少空间复杂性。

不断监控架构，发现缺陷及时修复。

每个微服务的数据存储应该分开。

对于每个微服务，都应该有一个独立的构建。

将微服务部署到容器中。

服务器应被视为无状态。

### 服务注册与发现原理

描述：服务注册与发现是是针对于三大角色的：
①：服务提供者 ②：服务消费者 ③：注册中心

针对他们之间的关系描述就是服务的注册与发现的运行原理：

1：各微服务在服务启动的时候，将服务的网络地址等信息注册到注册中心，
注册中心存储该数据

2：服务消费者从注册中心查询到服务提供者的地址等信息，
并通过该地址调用服务提供者的接口

3：各个微服务与注册中心通过一定的机制通信（例如心跳机制，默认30秒续约一次），
如果注册中心与某微服务长时间无法通信（默认90秒没有接到续约），就会注销该实例

4：微服务网络地址发生变化（例如增加实例或IP变动等），
会重新注册到注册中心，这样，服务消费者就无需人工修改提供者的网络地址了
